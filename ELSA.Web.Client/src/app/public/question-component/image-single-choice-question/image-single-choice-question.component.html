<div class="row image-multi-choice-question-container">
    <div class="row" *ngFor="let batch of batchOptions; let iBatch = index">
        @for (option of batch; track $index) {
        @let calculatedIndex = calculateIndex(iBatch, $index);
        <div class="d-inline-block col-md-6 p-2">
            <label class="form-check-label" for="{{question.id}}-{{calculatedIndex}}"
                [ngClass]="{'border border-success': isSelected(calculatedIndex)}">
                <input *ngIf="isSelected(calculatedIndex)" class="form-check-input" type="radio" [name]="question.id"
                    id="{{question.id}}-{{calculatedIndex}}" checked
                    [value]="calculatedIndex" [ngModel]="answer"
                    (ngModelChange)="select(calculatedIndex)" />
                <input *ngIf="!isSelected(calculatedIndex)" class="form-check-input" type="radio" [name]="question.id"
                    id="{{question.id}}-{{calculatedIndex}}" [ngModel]="answer"
                    [value]="calculatedIndex" (ngModelChange)="select(calculatedIndex)" />
                <img [src]="option" class="rounded col-md-12" height="300" />
            </label>
        </div>
        }
    </div>
</div>